!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("vue-property-decorator"),require("vue-class-component")):"function"==typeof define&&define.amd?define(["vue-property-decorator","vue-class-component"],e):"object"==typeof exports?exports.multipleSearchInput=e(require("vue-property-decorator"),require("vue-class-component")):t.multipleSearchInput=e(t["vue-property-decorator"],t["vue-class-component"])}(this,(function(t,e){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=13)}([function(e,n){e.exports=t},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){var i=n(10);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n(5).default)("0ea6739f",i,!0,{})},function(t,e,n){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=t(e);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n})).join("")},e.i=function(t,n,i){"string"==typeof t&&(t=[[null,t,""]]);var r={};if(i)for(var s=0;s<this.length;s++){var a=this[s][0];null!=a&&(r[a]=!0)}for(var o=0;o<t.length;o++){var u=[].concat(t[o]);i&&r[u[0]]||(n&&(u[2]?u[2]="".concat(n," and ").concat(u[2]):u[2]=n),e.push(u))}},e}},function(t,e,n){var i=n(12);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n(5).default)("03fa740e",i,!0,{})},function(t,e,n){"use strict";function i(t,e){for(var n=[],i={},r=0;r<e.length;r++){var s=e[r],a=s[0],o={id:t+":"+r,css:s[1],media:s[2],sourceMap:s[3]};i[a]?i[a].parts.push(o):n.push(i[a]={id:a,parts:[o]})}return n}n.r(e),n.d(e,"default",(function(){return h}));var r="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!r)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var s={},a=r&&(document.head||document.getElementsByTagName("head")[0]),o=null,u=0,c=!1,l=function(){},d=null,p="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function h(t,e,n,r){c=n,d=r||{};var a=i(t,e);return f(a),function(e){for(var n=[],r=0;r<a.length;r++){var o=a[r];(u=s[o.id]).refs--,n.push(u)}e?f(a=i(t,e)):a=[];for(r=0;r<n.length;r++){var u;if(0===(u=n[r]).refs){for(var c=0;c<u.parts.length;c++)u.parts[c]();delete s[u.id]}}}}function f(t){for(var e=0;e<t.length;e++){var n=t[e],i=s[n.id];if(i){i.refs++;for(var r=0;r<i.parts.length;r++)i.parts[r](n.parts[r]);for(;r<n.parts.length;r++)i.parts.push(g(n.parts[r]));i.parts.length>n.parts.length&&(i.parts.length=n.parts.length)}else{var a=[];for(r=0;r<n.parts.length;r++)a.push(g(n.parts[r]));s[n.id]={id:n.id,refs:1,parts:a}}}}function v(){var t=document.createElement("style");return t.type="text/css",a.appendChild(t),t}function g(t){var e,n,i=document.querySelector('style[data-vue-ssr-id~="'+t.id+'"]');if(i){if(c)return l;i.parentNode.removeChild(i)}if(p){var r=u++;i=o||(o=v()),e=y.bind(null,i,r,!1),n=y.bind(null,i,r,!0)}else i=v(),e=_.bind(null,i),n=function(){i.parentNode.removeChild(i)};return e(t),function(i){if(i){if(i.css===t.css&&i.media===t.media&&i.sourceMap===t.sourceMap)return;e(t=i)}else n()}}var m,b=(m=[],function(t,e){return m[t]=e,m.filter(Boolean).join("\n")});function y(t,e,n,i){var r=n?"":i.css;if(t.styleSheet)t.styleSheet.cssText=b(e,r);else{var s=document.createTextNode(r),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(s,a[e]):t.appendChild(s)}}function _(t,e){var n=e.css,i=e.media,r=e.sourceMap;if(i&&t.setAttribute("media",i),d.ssrId&&t.setAttribute("data-vue-ssr-id",e.id),r&&(n+="\n/*# sourceURL="+r.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */"),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}},function(t,e,n){"use strict";(function(t){var n=function(){if("undefined"!=typeof Map)return Map;function t(t,e){var n=-1;return t.some((function(t,i){return t[0]===e&&(n=i,!0)})),n}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(e){var n=t(this.__entries__,e),i=this.__entries__[n];return i&&i[1]},e.prototype.set=function(e,n){var i=t(this.__entries__,e);~i?this.__entries__[i][1]=n:this.__entries__.push([e,n])},e.prototype.delete=function(e){var n=this.__entries__,i=t(n,e);~i&&n.splice(i,1)},e.prototype.has=function(e){return!!~t(this.__entries__,e)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,e){void 0===e&&(e=null);for(var n=0,i=this.__entries__;n<i.length;n++){var r=i[n];t.call(e,r[1],r[0])}},e}()}(),i="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,r=void 0!==t&&t.Math===Math?t:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),s="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(r):function(t){return setTimeout((function(){return t(Date.now())}),1e3/60)};var a=["top","right","bottom","left","width","height","size","weight"],o="undefined"!=typeof MutationObserver,u=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(t,e){var n=!1,i=!1,r=0;function a(){n&&(n=!1,t()),i&&u()}function o(){s(a)}function u(){var t=Date.now();if(n){if(t-r<2)return;i=!0}else n=!0,i=!1,setTimeout(o,e);r=t}return u}(this.refresh.bind(this),20)}return t.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},t.prototype.removeObserver=function(t){var e=this.observers_,n=e.indexOf(t);~n&&e.splice(n,1),!e.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},t.prototype.updateObservers_=function(){var t=this.observers_.filter((function(t){return t.gatherActive(),t.hasActive()}));return t.forEach((function(t){return t.broadcastActive()})),t.length>0},t.prototype.connect_=function(){i&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),o?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){i&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(t){var e=t.propertyName,n=void 0===e?"":e;a.some((function(t){return!!~n.indexOf(t)}))&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),c=function(t,e){for(var n=0,i=Object.keys(e);n<i.length;n++){var r=i[n];Object.defineProperty(t,r,{value:e[r],enumerable:!1,writable:!1,configurable:!0})}return t},l=function(t){return t&&t.ownerDocument&&t.ownerDocument.defaultView||r},d=m(0,0,0,0);function p(t){return parseFloat(t)||0}function h(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce((function(e,n){return e+p(t["border-"+n+"-width"])}),0)}function f(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return d;var i=l(t).getComputedStyle(t),r=function(t){for(var e={},n=0,i=["top","right","bottom","left"];n<i.length;n++){var r=i[n],s=t["padding-"+r];e[r]=p(s)}return e}(i),s=r.left+r.right,a=r.top+r.bottom,o=p(i.width),u=p(i.height);if("border-box"===i.boxSizing&&(Math.round(o+s)!==e&&(o-=h(i,"left","right")+s),Math.round(u+a)!==n&&(u-=h(i,"top","bottom")+a)),!function(t){return t===l(t).document.documentElement}(t)){var c=Math.round(o+s)-e,f=Math.round(u+a)-n;1!==Math.abs(c)&&(o-=c),1!==Math.abs(f)&&(u-=f)}return m(r.left,r.top,o,u)}var v="undefined"!=typeof SVGGraphicsElement?function(t){return t instanceof l(t).SVGGraphicsElement}:function(t){return t instanceof l(t).SVGElement&&"function"==typeof t.getBBox};function g(t){return i?v(t)?function(t){var e=t.getBBox();return m(0,0,e.width,e.height)}(t):f(t):d}function m(t,e,n,i){return{x:t,y:e,width:n,height:i}}var b=function(){function t(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=m(0,0,0,0),this.target=t}return t.prototype.isActive=function(){var t=g(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},t}(),y=function(t,e){var n,i,r,s,a,o,u,l=(i=(n=e).x,r=n.y,s=n.width,a=n.height,o="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,u=Object.create(o.prototype),c(u,{x:i,y:r,width:s,height:a,top:r,right:i+s,bottom:a+r,left:i}),u);c(this,{target:t,contentRect:l})},_=function(){function t(t,e,i){if(this.activeObservations_=[],this.observations_=new n,"function"!=typeof t)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=e,this.callbackCtx_=i}return t.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof l(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)||(e.set(t,new b(t)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof l(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)&&(e.delete(t),e.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach((function(e){e.isActive()&&t.activeObservations_.push(e)}))},t.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,e=this.activeObservations_.map((function(t){return new y(t.target,t.broadcastRect())}));this.callback_.call(t,e,t),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),x="undefined"!=typeof WeakMap?new WeakMap:new n,w=function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=u.getInstance(),i=new _(e,n,this);x.set(this,i)};["observe","unobserve","disconnect"].forEach((function(t){w.prototype[t]=function(){var e;return(e=x.get(this))[t].apply(e,arguments)}}));var O=void 0!==r.ResizeObserver?r.ResizeObserver:w;e.a=O}).call(this,n(1))},function(t,n){t.exports=e},function(t,e,n){"use strict";(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.a=n}).call(this,n(1))},function(t,e,n){"use strict";n(2)},function(t,e,n){var i=n(3)((function(t){return t[1]}));i.push([t.i,"\n.vbt-autcomplete-list[data-v-a0e87de4] {\n  padding-top: 5px;\n  position: absolute;\n  max-height: 350px;\n  overflow-y: auto;\n  z-index: 999;\n}\n",""]),t.exports=i},function(t,e,n){"use strict";n(4)},function(t,e,n){var i=n(3)((function(t){return t[1]}));i.push([t.i,"\n.inputClass{\r\n  width: 100%;\r\n  display: inline-block;\r\n  font-weight: 300;\r\n  display: block;\r\n  width: 100%;\r\n  height: calc(38px - 0.375rem * 2 - 2px);\r\n  font-size: 1rem;\r\n  font-weight: 400;\r\n  line-height: 1.5;\r\n  background-color: #fff;\r\n  background-clip: padding-box;\r\n  border-radius: 0.25rem;\r\n  transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;\n}\n.inputClass:focus{\r\n  outline: 0;\n}\r\n",""]),t.exports=i},function(t,e,n){"use strict";n.r(e),n.d(e,"MultipleSearchInput",(function(){return G})),n.d(e,"multipleSearchInputPlugin",(function(){return Q}));var i=n(0);function r(t,e,n,i,r,s,a,o){var u,c="function"==typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=n,c._compiled=!0),i&&(c.functional=!0),s&&(c._scopeId="data-v-"+s),a?(u=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},c._ssrRegister=u):r&&(u=o?function(){r.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:r),u)if(c.functional){c._injectStyles=u;var l=c.render;c.render=function(t,e){return u.call(e),l(t,e)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,u):[u]}return{exports:t,options:c}}var s=r({name:"VueBootstrapTypeaheadListItem",props:{data:{},htmlText:{type:String},backgroundVariant:{type:String},textVariant:{type:String}},data:()=>({active:!1}),computed:{textClasses(){let t="";return t+=this.active?"active":"",t+=this.backgroundVariant?" bg-"+this.backgroundVariant:"",t+=this.textVariant?" text-"+this.textVariant:"","vbst-item list-group-item list-group-item-action "+t}}},(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a",{class:t.textClasses,attrs:{tabindex:"0",href:"#"},on:{mouseover:function(e){t.active=!0},mouseout:function(e){t.active=!1}}},[t._t("suggestion",[n("span",{domProps:{innerHTML:t._s(t.htmlText)}})],null,{data:t.data,htmlText:t.htmlText})],2)}),[],!1,null,null,null);function a(t){return t.replace(/</g,"&lt;").replace(/>/g,"&gt;")}var o=r({name:"VueBootstrapTypeaheadList",components:{VueBootstrapTypeaheadListItem:s.exports},props:{data:{type:Array,required:!0,validator:t=>t instanceof Array},query:{type:String,default:""},backgroundVariant:{type:String},textVariant:{type:String},maxMatches:{type:Number,default:10},minMatchingChars:{type:Number,default:2}},computed:{highlight(){return t=>{if(t=a(t),0===this.query.length)return t;const e=new RegExp(this.escapedQuery,"gi");return t.replace(e,"<strong>$&</strong>")}},escapedQuery(){return a(this.query).replace(/[.*+?^${}()|[\]\\]/g,"\\$&")},matchedItems(){if(0===this.query.length||this.query.length<this.minMatchingChars)return[];const t=new RegExp(this.escapedQuery,"gi");return this.data.filter(e=>null!==e.text.match(t)).sort((e,n)=>{const i=e.text.indexOf(e.text.match(t)[0]),r=n.text.indexOf(n.text.match(t)[0]);return i<r?-1:i>r?1:0}).slice(0,this.maxMatches)}},methods:{handleHit(t,e){this.$emit("hit",t),e.preventDefault()}}},(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"list-group shadow"},t._l(t.matchedItems,(function(e,i){return n("vue-bootstrap-typeahead-list-item",{key:i,attrs:{data:e.data,"html-text":t.highlight(e.text),"background-variant":t.backgroundVariant,"text-variant":t.textVariant},nativeOn:{click:function(n){return t.handleHit(e,n)}},scopedSlots:t._u([{key:"suggestion",fn:function(e){var n=e.data,i=e.htmlText;return t.$scopedSlots.suggestion?[t._t("suggestion",null,null,{data:n,htmlText:i})]:void 0}}],null,!0)})})),1)}),[],!1,null,null,null).exports,u=n(6),c={name:"VueBootstrapTypehead",components:{VueBootstrapTypeaheadList:o},props:{size:{type:String,default:null,validator:t=>["lg","sm"].indexOf(t)>-1},value:{type:String},data:{type:Array,required:!0,validator:t=>t instanceof Array},serializer:{type:Function,default:t=>t,validator:t=>t instanceof Function},backgroundVariant:String,textVariant:String,inputClass:{type:String,default:""},maxMatches:{type:Number,default:10},minMatchingChars:{type:Number,default:2},placeholder:String,prepend:String,append:String},computed:{sizeClasses(){return this.size?"input-group input-group-"+this.size:"input-group"},formattedData(){return this.data instanceof Array?this.data.map((t,e)=>({id:e,data:t,text:this.serializer(t)})):[]}},methods:{resizeList(t){const e=t.getBoundingClientRect(),n=this.$refs.list.$el.style;if(n.width=e.width+"px",this.$refs.prependDiv){const t=this.$refs.prependDiv.getBoundingClientRect();n.marginLeft=t.width+"px"}},handleHit(t){void 0!==this.value&&this.$emit("input",t.text),this.inputValue=t.text,this.$emit("hit",t.data),this.$refs.input.blur(),this.isFocused=!1},handleBlur(t){const e=t.relatedTarget;e&&e.classList.contains("vbst-item")||(this.isFocused=!1)},handleInput(t){this.inputValue=t,void 0!==this.value&&this.$emit("input",t)}},data:()=>({isFocused:!1,inputValue:""}),mounted(){this.$_ro=new u.a(t=>{this.resizeList(this.$refs.input)}),this.$_ro.observe(this.$refs.input),this.$_ro.observe(this.$refs.list.$el)},beforeDestroy(){this.$_ro.disconnect()}},l=(n(9),r(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{class:t.sizeClasses},[t.$slots.prepend||t.prepend?n("div",{ref:"prependDiv",staticClass:"input-group-prepend"},[t._t("prepend",[n("span",{staticClass:"input-group-text"},[t._v(t._s(t.prepend))])])],2):t._e(),t._v(" "),n("input",{ref:"input",class:"form-control "+t.inputClass,attrs:{type:"search",placeholder:t.placeholder,"aria-label":t.placeholder,autocomplete:"off"},domProps:{value:t.inputValue},on:{focus:function(e){t.isFocused=!0},blur:t.handleBlur,input:function(e){return t.handleInput(e.target.value)}}}),t._v(" "),t.$slots.append||t.append?n("div",{staticClass:"input-group-append"},[t._t("append",[n("span",{staticClass:"input-group-text"},[t._v(t._s(t.append))])])],2):t._e()]),t._v(" "),n("vue-bootstrap-typeahead-list",{directives:[{name:"show",rawName:"v-show",value:t.isFocused&&t.data.length>0,expression:"isFocused && data.length > 0"}],ref:"list",staticClass:"vbt-autcomplete-list",attrs:{query:t.inputValue,data:t.formattedData,"background-variant":t.backgroundVariant,"text-variant":t.textVariant,maxMatches:t.maxMatches,minMatchingChars:t.minMatchingChars},on:{hit:t.handleHit},scopedSlots:t._u([t._l(t.$scopedSlots,(function(e,n){return{key:n,fn:function(e){var i=e.data,r=e.htmlText;return[t._t(n,null,null,{data:i,htmlText:r})]}}}))],null,!0)})],1)}),[],!1,null,"a0e87de4",null).exports),d=n(7),p=function(t,e,n,i){var r,s=arguments.length,a=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var o=t.length-1;o>=0;o--)(r=t[o])&&(a=(s<3?r(a):s>3?r(e,n,a):r(e,n))||a);return s>3&&a&&Object.defineProperty(e,n,a),a};let h=class extends(Object(d.mixins)(l)){constructor(){super(...arguments),this.height=250,this.firstCalu=!1,this.blurFromClick=!1}setHeight(t){t&&this.calcuHeight()}calcuHeight(){const t=this.$refs.input,{top:e,height:n}=t.getBoundingClientRect(),i=window.innerHeight;this.height=i-e-n-50}handleTextInput(t){this.$emit("stop-fetch",!1),this.handleInput(t.target.value)}handleHit(t){void 0!==this.value&&(this.$emit("stop-fetch",!0),this.$emit("input",t.text)),this.inputValue=t.text,this.$emit("hit",t.data),this.$refs.input.blur(),this.inputValue="",this.isFocused=!1}handleBlur(t){const e=t.relatedTarget;e&&e.classList.contains("vbst-item")||e&&e.classList.contains("_tags")&&e.id===""+this.tagsId||((this.canFreeText||this.data.find(t=>t.value===this.inputValue))&&this.$emit("hit",{value:this.inputValue,text:this.inputValue}),this.inputValue="",this.isFocused=!1)}handleEnter(){(this.canFreeText||this.data.find(t=>t.value===this.inputValue))&&this.$emit("hit",{value:this.inputValue,text:this.inputValue}),this.inputValue=""}setFocused(){this.$refs.input.focus()}};p([Object(i.Prop)({type:String})],h.prototype,"tagsId",void 0),p([Object(i.Prop)({type:Boolean})],h.prototype,"canFreeText",void 0),p([Object(i.Watch)("isFocused")],h.prototype,"setHeight",null),h=p([Object(i.Component)({name:"SearchInput"})],h);var f=h,v=(n(11),r(f,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{class:t.sizeClasses},[t.$slots.prepend||t.prepend?n("div",{ref:"prependDiv",staticClass:"input-group-prepend"},[t._t("prepend",[n("span",{staticClass:"input-group-text"},[t._v(t._s(t.prepend))])])],2):t._e(),t._v(" "),n("input",t._b({ref:"input",staticClass:"inputClass",class:""+t.inputClass,attrs:{type:"search",placeholder:t.placeholder,"aria-label":t.placeholder,autocomplete:"off"},domProps:{value:t.inputValue},on:{focus:function(e){t.isFocused=!0},blur:t.handleBlur,keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleEnter(e)},input:t.handleTextInput}},"input",t.$attrs,!1)),t._v(" "),t.$slots.append||t.append?n("div",{staticClass:"input-group-append"},[t._t("append",[n("span",{staticClass:"input-group-text"},[t._v(t._s(t.append))])])],2):t._e()]),t._v(" "),n("vue-bootstrap-typeahead-list",{directives:[{name:"show",rawName:"v-show",value:t.isFocused&&t.data.length>0,expression:"isFocused && data.length > 0"}],ref:"list",staticClass:"vbt-autcomplete-list",style:"max-height:"+t.height+"px",attrs:{query:t.inputValue,data:t.formattedData,"background-variant":t.backgroundVariant,"text-variant":t.textVariant,maxMatches:t.maxMatches,minMatchingChars:t.minMatchingChars},on:{hit:t.handleHit},scopedSlots:t._u([t._l(t.$scopedSlots,(function(e,n){return{key:n,fn:function(e){var i=e.data,r=e.htmlText;return[t._t(n,null,null,{data:i,htmlText:r})]}}}))],null,!0)})],1)}),[],!1,null,null,null).exports);var g=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},m=n(8),b="object"==typeof self&&self&&self.Object===Object&&self,y=m.a||b||Function("return this")(),_=function(){return y.Date.now()},x=/\s/;var w=function(t){for(var e=t.length;e--&&x.test(t.charAt(e)););return e},O=/^\s+/;var T=function(t){return t?t.slice(0,w(t)+1).replace(O,""):t},C=y.Symbol,S=Object.prototype,j=S.hasOwnProperty,E=S.toString,$=C?C.toStringTag:void 0;var M=function(t){var e=j.call(t,$),n=t[$];try{t[$]=void 0;var i=!0}catch(t){}var r=E.call(t);return i&&(e?t[$]=n:delete t[$]),r},V=Object.prototype.toString;var k=function(t){return V.call(t)},F=C?C.toStringTag:void 0;var I=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":F&&F in Object(t)?M(t):k(t)};var A=function(t){return null!=t&&"object"==typeof t};var R=function(t){return"symbol"==typeof t||A(t)&&"[object Symbol]"==I(t)},L=/^[-+]0x[0-9a-f]+$/i,B=/^0b[01]+$/i,D=/^0o[0-7]+$/i,P=parseInt;var N=function(t){if("number"==typeof t)return t;if(R(t))return NaN;if(g(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=g(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=T(t);var n=B.test(t);return n||D.test(t)?P(t.slice(2),n?2:8):L.test(t)?NaN:+t},z=Math.max,q=Math.min;var H=function(t,e,n){var i,r,s,a,o,u,c=0,l=!1,d=!1,p=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function h(e){var n=i,s=r;return i=r=void 0,c=e,a=t.apply(s,n)}function f(t){return c=t,o=setTimeout(m,e),l?h(t):a}function v(t){var n=t-u;return void 0===u||n>=e||n<0||d&&t-c>=s}function m(){var t=_();if(v(t))return b(t);o=setTimeout(m,function(t){var n=e-(t-u);return d?q(n,s-(t-c)):n}(t))}function b(t){return o=void 0,p&&i?h(t):(i=r=void 0,a)}function y(){var t=_(),n=v(t);if(i=arguments,r=this,u=t,n){if(void 0===o)return f(u);if(d)return clearTimeout(o),o=setTimeout(m,e),h(u)}return void 0===o&&(o=setTimeout(m,e)),a}return e=N(e)||0,g(n)&&(l=!!n.leading,s=(d="maxWait"in n)?z(N(n.maxWait)||0,e):s,p="trailing"in n?!!n.trailing:p),y.cancel=function(){void 0!==o&&clearTimeout(o),c=0,i=u=r=o=void 0},y.flush=function(){return void 0===o?a:b(_())},y},W=function(t,e,n,i){var r,s=arguments.length,a=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var o=t.length-1;o>=0;o--)(r=t[o])&&(a=(s<3?r(a):s>3?r(e,n,a):r(e,n))||a);return s>3&&a&&Object.defineProperty(e,n,a),a};let U=class extends i.Vue{constructor(){super(...arguments),this.curOptions=[],this.newTag="",this.tags=[],this.tagsId=[],this.id=String(+new Date),this.selectFromList=!1}get oneText(){return 1===this.limit}get inputDisable(){return this.disabled}get dataOptions(){return[...this.options,...this.curOptions]}defaultTagByValue(t,e){t&&this.setDefaultTag(t,this.list)}defaultTagByOption(t,e){t.length>0&&this.setDefaultTag(this.value,t)}defaultTagByList(t,e){t.length>0&&this.setDefaultTag(this.value,t)}returnOptiton(t){this.$emit("get-option",t)}setDefaultTag(t,e){if(t&&t.length>0&&0===this.tags.length){const n=e,i=[];t.forEach(t=>{const e=n.find(e=>e.value===t);e?i.push(e.text):this.canFreeText&&i.push(t)}),this.tags=i,this.tagsId=this.value.filter(t=>"string"==typeof t?!!t:void 0!==t)}else t&&0===t.length&&(this.tags=[],this.tagsId=[])}get reachLimit(){return this.limit&&this.tagsId.length===this.limit}get showList(){return this.list.filter(t=>-1===this.tagsId.indexOf(t.value))}removeTagAndRemoveSelect(t,e){const n=this.dataOptions;t(e);const i=n.find(t=>t.text.trim()===e),r=i?i.value:e;r&&(this.tagsId=this.tagsId.filter(t=>t!==r)),this.$emit("change",this.tagsId),this.newTag=""}handleCancelFetch(t){this.selectFromList=t}handleFocus(){this.$refs.input&&this.$refs.input.setFocused()}handleHit(t,e){this.handleValidate&&!this.handleValidate(e.value)||this.tagsId.find(t=>t===e.value)||(!this.curOptions.find(t=>t.value===e.value)&&this.curOptions.push(e),t(e.text),this.tagsId.push(e.value),this.$emit("change",this.tagsId))}};W([Object(i.Prop)({type:Number})],U.prototype,"limit",void 0),W([Object(i.Prop)({type:Array})],U.prototype,"list",void 0),W([Object(i.Prop)({type:Array,default:function(){return[]}})],U.prototype,"options",void 0),W([Object(i.Prop)({type:String})],U.prototype,"label",void 0),W([Object(i.Prop)({type:String})],U.prototype,"fieldClass",void 0),W([Object(i.Prop)({type:Boolean})],U.prototype,"disabled",void 0),W([Object(i.Prop)({type:Boolean})],U.prototype,"canFreeText",void 0),W([Object(i.Prop)({type:Function})],U.prototype,"handleValidate",void 0),W([Object(i.Model)("change",{type:Array})],U.prototype,"value",void 0),W([Object(i.Watch)("value",{immediate:!0})],U.prototype,"defaultTagByValue",null),W([Object(i.Watch)("options",{immediate:!0})],U.prototype,"defaultTagByOption",null),W([Object(i.Watch)("list",{immediate:!0})],U.prototype,"defaultTagByList",null),W([Object(i.Watch)("curOptions")],U.prototype,"returnOptiton",null),U=W([Object(i.Component)({name:"MultipleSearchInput",components:{SearchInput:v},watch:{newTag:H((function(t,e){this.selectFromList||t===e||this.$emit("fetch-data",t)}),500)}})],U);var G=r(U,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"_field",class:t.fieldClass},[t.label?n("div",{staticClass:"_label",attrs:{id:t.label}},[t._v("\n    "+t._s(t.label)+"\n    "),t._t("label-side")],2):t._e(),t._v(" "),n("div",{staticClass:"_data"},[n("b-form-tags",t._b({staticClass:"multiple-input _tags",attrs:{id:t.id,"input-id":t.label,disabled:t.disabled,"add-on-change":""},nativeOn:{focus:function(e){return t.handleFocus(e)}},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.tags,r=e.addTag,s=e.disabled,a=e.removeTag;return[i.length>0?n("ul",{staticClass:"b-form-tags-list list-inline d-inline-block mb-0"},t._l(i,(function(e){return n("li",{key:e,staticClass:"list-inline-item"},[n("b-form-tag",{staticClass:"_tag",attrs:{title:e,disabled:s,variant:"info"},on:{remove:function(n){return t.removeTagAndRemoveSelect(a,e)}}},[t._t("default",[t._v(t._s(e))],{bind:e})],2)],1)})),0):t._e(),t._v(" "),t.reachLimit||t.inputDisable?t._e():n("search-input",t._b({ref:"input",staticClass:"d-inline-block",style:"width: "+(t.oneText?"100%":"auto"),attrs:{"tags-id":t.id,canFreeText:t.canFreeText,disabled:t.reachLimit,inputClass:"border-0",data:t.showList,serializer:function(t){return t.text},minMatchingChars:1,maxMatches:100},on:{hit:function(e){return t.handleHit(r,e)},"stop-fetch":t.handleCancelFetch},model:{value:t.newTag,callback:function(e){t.newTag=e},expression:"newTag"}},"search-input",t.$attrs,!1))]}}],null,!0),model:{value:t.tags,callback:function(e){t.tags=e},expression:"tags"}},"b-form-tags",t.$attrs,!1))],1),t._v(" "),t._t("default")],2)}),[],!1,null,null,null).exports;const Q={install(t){t.component("MultipleSearchInput",G)}};"undefined"!=typeof window&&window.Vue&&window.Vue.use(Q)}])}));